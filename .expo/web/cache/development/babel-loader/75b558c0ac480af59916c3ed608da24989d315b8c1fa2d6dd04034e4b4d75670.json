{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _invariant = _interopRequireDefault(require(\"../../utils/common/invariant\"));\nvar _logger = _interopRequireDefault(require(\"../../utils/common/logger\"));\nvar _common = require(\"../common\");\nvar _dispatcher = _interopRequireDefault(require(\"./dispatcher\"));\nvar LokiJSAdapter = function () {\n  function LokiJSAdapter(options) {\n    var _options$useWebWorker;\n    this._options = options;\n    this.dbName = options.dbName || 'loki';\n    var schema = options.schema,\n      migrations = options.migrations;\n    var useWebWorker = null !== (_options$useWebWorker = options.useWebWorker) && void 0 !== _options$useWebWorker ? _options$useWebWorker : 'test' !== process.env.NODE_ENV;\n    this._dispatcher = new _dispatcher.default(useWebWorker);\n    this.schema = schema;\n    this.migrations = migrations;\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)('useWebWorker' in options, 'LokiJSAdapter `useWebWorker` option is required. Pass `{ useWebWorker: false }` to adopt the new behavior, or `{ useWebWorker: true }` to supress this warning with no changes');\n      if (true === options.useWebWorker) {\n        _logger.default.warn('LokiJSAdapter {useWebWorker: true} option is now deprecated. If you rely on this feature, please file an issue');\n      }\n      (0, _invariant.default)('useIncrementalIndexedDB' in options, 'LokiJSAdapter `useIncrementalIndexedDB` option is required. Pass `{ useIncrementalIndexedDB: true }` to adopt the new behavior, or `{ useIncrementalIndexedDB: false }` to supress this warning with no changes');\n      if (false === options.useIncrementalIndexedDB) {\n        _logger.default.warn('LokiJSAdapter {useIncrementalIndexedDB: false} option is now deprecated. If you rely on this feature, please file an issue');\n      }\n      (0, _common.validateAdapter)(this);\n    }\n    this._dispatcher.call('setUp', [options], function callback(result) {\n      return (0, _common.devSetupCallback)(result, options.onSetUpError);\n    });\n  }\n  var _proto = LokiJSAdapter.prototype;\n  _proto.testClone = function testClone() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return new Promise(function ($return) {\n      var driver = this._driver;\n      driver.loki.close();\n      return $return(new LokiJSAdapter((0, _extends2.default)({}, this._options, {\n        _testLokiAdapter: driver.loki.persistenceAdapter\n      }, options)));\n    }.bind(this));\n  };\n  _proto.find = function find(table, id, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('find', [table, id], callback);\n  };\n  _proto.query = function query(_query, callback) {\n    (0, _common.validateTable)(_query.table, this.schema);\n    this._dispatcher.call('query', [_query], callback);\n  };\n  _proto.queryIds = function queryIds(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('queryIds', [query], callback);\n  };\n  _proto.unsafeQueryRaw = function unsafeQueryRaw(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('unsafeQueryRaw', [query], callback);\n  };\n  _proto.count = function count(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('count', [query], callback);\n  };\n  _proto.batch = function batch(operations, callback) {\n    var _this = this;\n    operations.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        table = _ref2[1];\n      return (0, _common.validateTable)(table, _this.schema);\n    });\n    this._dispatcher.call('batch', [operations], callback, 'shallowCloneDeepObjects');\n  };\n  _proto.getDeletedRecords = function getDeletedRecords(table, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('getDeletedRecords', [table], callback);\n  };\n  _proto.destroyDeletedRecords = function destroyDeletedRecords(table, recordIds, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('batch', [recordIds.map(function (id) {\n      return ['destroyPermanently', table, id];\n    })], callback, 'immutable', 'immutable');\n  };\n  _proto.unsafeLoadFromSync = function unsafeLoadFromSync(jsonId, callback) {\n    callback({\n      error: new Error('unsafeLoadFromSync unavailable in LokiJS')\n    });\n  };\n  _proto.provideSyncJson = function provideSyncJson(id, syncPullResultJson, callback) {\n    callback({\n      error: new Error('provideSyncJson unavailable in LokiJS')\n    });\n  };\n  _proto.unsafeResetDatabase = function unsafeResetDatabase(callback) {\n    this._dispatcher.call('unsafeResetDatabase', [], callback);\n  };\n  _proto.unsafeExecute = function unsafeExecute(operations, callback) {\n    this._dispatcher.call('unsafeExecute', [operations], callback);\n  };\n  _proto.getLocal = function getLocal(key, callback) {\n    this._dispatcher.call('getLocal', [key], callback);\n  };\n  _proto.setLocal = function setLocal(key, value, callback) {\n    (0, _invariant.default)('string' === typeof value, 'adapter.setLocal() value must be a string');\n    this._dispatcher.call('setLocal', [key, value], callback);\n  };\n  _proto.removeLocal = function removeLocal(key, callback) {\n    this._dispatcher.call('removeLocal', [key], callback);\n  };\n  _proto._fatalError = function _fatalError(error) {\n    this._dispatcher.call('_fatalError', [error], function () {});\n  };\n  _proto._clearCachedRecords = function _clearCachedRecords() {\n    this._dispatcher.call('clearCachedRecords', [], function () {});\n  };\n  _proto._debugDignoseMissingRecord = function _debugDignoseMissingRecord(table, id) {\n    var driver = this._driver;\n    if (driver) {\n      var lokiCollection = driver.loki.getCollection(table);\n      var didFindById = !!lokiCollection.by('id', id);\n      _logger.default.log(\"Did find \".concat(table, \"#\").concat(id, \" in Loki collection by ID? \").concat(didFindById));\n      var didFindByFilter = !!lokiCollection.data.filter(function (doc) {\n        return doc.id === id;\n      });\n      _logger.default.log(\"Did find \".concat(table, \"#\").concat(id, \" in Loki collection by filtering the collection? \").concat(didFindByFilter));\n    }\n  };\n  (0, _createClass2.default)(LokiJSAdapter, [{\n    key: \"_driver\",\n    get: function get() {\n      return this._dispatcher._worker._bridge.driver;\n    }\n  }]);\n  return LokiJSAdapter;\n}();\nexports.default = LokiJSAdapter;\nLokiJSAdapter.adapterType = 'loki';","map":{"version":3,"names":["_slicedToArray","require","_interopRequireDefault","exports","__esModule","default","_extends2","_createClass2","_invariant","_logger","_common","_dispatcher","LokiJSAdapter","options","_options$useWebWorker","_options","dbName","schema","migrations","useWebWorker","process","env","NODE_ENV","warn","useIncrementalIndexedDB","validateAdapter","call","callback","result","devSetupCallback","onSetUpError","_proto","prototype","testClone","arguments","length","undefined","Promise","$return","driver","_driver","loki","close","_testLokiAdapter","persistenceAdapter","bind","find","table","id","validateTable","query","_query","queryIds","unsafeQueryRaw","count","batch","operations","_this","forEach","_ref","_ref2","getDeletedRecords","destroyDeletedRecords","recordIds","map","unsafeLoadFromSync","jsonId","error","Error","provideSyncJson","syncPullResultJson","unsafeResetDatabase","unsafeExecute","getLocal","key","setLocal","value","removeLocal","_fatalError","_clearCachedRecords","_debugDignoseMissingRecord","lokiCollection","getCollection","didFindById","by","log","concat","didFindByFilter","data","filter","doc","get","_worker","_bridge","adapterType"],"sources":["/app/node_modules/@nozbe/watermelondb/adapters/lokijs/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _invariant = _interopRequireDefault(require(\"../../utils/common/invariant\"));\nvar _logger = _interopRequireDefault(require(\"../../utils/common/logger\"));\nvar _common = require(\"../common\");\nvar _dispatcher = _interopRequireDefault(require(\"./dispatcher\"));\n// don't import the whole utils/ here!\nvar LokiJSAdapter = /*#__PURE__*/function () {\n  function LokiJSAdapter(options) {\n    var _options$useWebWorker;\n    this._options = options;\n    this.dbName = options.dbName || 'loki';\n    var {\n      schema: schema,\n      migrations: migrations\n    } = options;\n    var useWebWorker = null !== (_options$useWebWorker = options.useWebWorker) && void 0 !== _options$useWebWorker ? _options$useWebWorker : 'test' !== process.env.NODE_ENV;\n    this._dispatcher = new _dispatcher.default(useWebWorker);\n    this.schema = schema;\n    this.migrations = migrations;\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)('useWebWorker' in options, 'LokiJSAdapter `useWebWorker` option is required. Pass `{ useWebWorker: false }` to adopt the new behavior, or `{ useWebWorker: true }` to supress this warning with no changes');\n      if (true === options.useWebWorker) {\n        _logger.default.warn('LokiJSAdapter {useWebWorker: true} option is now deprecated. If you rely on this feature, please file an issue');\n      }\n      (0, _invariant.default)('useIncrementalIndexedDB' in options, 'LokiJSAdapter `useIncrementalIndexedDB` option is required. Pass `{ useIncrementalIndexedDB: true }` to adopt the new behavior, or `{ useIncrementalIndexedDB: false }` to supress this warning with no changes');\n      if (false === options.useIncrementalIndexedDB) {\n        _logger.default.warn('LokiJSAdapter {useIncrementalIndexedDB: false} option is now deprecated. If you rely on this feature, please file an issue');\n      }\n      (0, _common.validateAdapter)(this);\n    }\n    this._dispatcher.call('setUp', [options], function callback(result) {\n      return (0, _common.devSetupCallback)(result, options.onSetUpError);\n    });\n  }\n\n  // eslint-disable-next-line no-use-before-define\n  var _proto = LokiJSAdapter.prototype;\n  _proto.testClone = function testClone(options = {}) {\n    return new Promise(function ($return) {\n      // Ensure data is saved to memory\n      // $FlowFixMe\n      var driver = this._driver;\n      driver.loki.close();\n\n      // $FlowFixMe\n      return $return(new LokiJSAdapter((0, _extends2.default)({}, this._options, {\n        _testLokiAdapter: driver.loki.persistenceAdapter\n      }, options)));\n    }.bind(this));\n  };\n  _proto.find = function find(table, id, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('find', [table, id], callback);\n  };\n  _proto.query = function query(_query, callback) {\n    (0, _common.validateTable)(_query.table, this.schema);\n    this._dispatcher.call('query', [_query], callback);\n  };\n  _proto.queryIds = function queryIds(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('queryIds', [query], callback);\n  };\n  _proto.unsafeQueryRaw = function unsafeQueryRaw(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('unsafeQueryRaw', [query], callback);\n  };\n  _proto.count = function count(query, callback) {\n    (0, _common.validateTable)(query.table, this.schema);\n    this._dispatcher.call('count', [query], callback);\n  };\n  _proto.batch = function batch(operations, callback) {\n    var _this = this;\n    operations.forEach(function ([, table]) {\n      return (0, _common.validateTable)(table, _this.schema);\n    });\n    // batches are only strings + raws which only have JSON-compatible values, rest is immutable\n    this._dispatcher.call('batch', [operations], callback, 'shallowCloneDeepObjects');\n  };\n  _proto.getDeletedRecords = function getDeletedRecords(table, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('getDeletedRecords', [table], callback);\n  };\n  _proto.destroyDeletedRecords = function destroyDeletedRecords(table, recordIds, callback) {\n    (0, _common.validateTable)(table, this.schema);\n    this._dispatcher.call('batch', [recordIds.map(function (id) {\n      return ['destroyPermanently', table, id];\n    })], callback, 'immutable', 'immutable');\n  };\n  _proto.unsafeLoadFromSync = function unsafeLoadFromSync(jsonId, callback) {\n    callback({\n      error: new Error('unsafeLoadFromSync unavailable in LokiJS')\n    });\n  };\n  _proto.provideSyncJson = function provideSyncJson(id, syncPullResultJson, callback) {\n    callback({\n      error: new Error('provideSyncJson unavailable in LokiJS')\n    });\n  };\n  _proto.unsafeResetDatabase = function unsafeResetDatabase(callback) {\n    this._dispatcher.call('unsafeResetDatabase', [], callback);\n  };\n  _proto.unsafeExecute = function unsafeExecute(operations, callback) {\n    this._dispatcher.call('unsafeExecute', [operations], callback);\n  };\n  _proto.getLocal = function getLocal(key, callback) {\n    this._dispatcher.call('getLocal', [key], callback);\n  };\n  _proto.setLocal = function setLocal(key, value, callback) {\n    (0, _invariant.default)('string' === typeof value, 'adapter.setLocal() value must be a string');\n    this._dispatcher.call('setLocal', [key, value], callback);\n  };\n  _proto.removeLocal = function removeLocal(key, callback) {\n    this._dispatcher.call('removeLocal', [key], callback);\n  }\n\n  // dev/debug utility\n  ;\n  // (experimental)\n  _proto._fatalError = function _fatalError(error) {\n    this._dispatcher.call('_fatalError', [error], function () {});\n  }\n\n  // (experimental)\n  ;\n  _proto._clearCachedRecords = function _clearCachedRecords() {\n    this._dispatcher.call('clearCachedRecords', [], function () {});\n  };\n  _proto._debugDignoseMissingRecord = function _debugDignoseMissingRecord(table, id) {\n    var driver = this._driver;\n    if (driver) {\n      var lokiCollection = driver.loki.getCollection(table);\n      // if we can find the record by ID, it just means that the record cache ID was corrupted\n      var didFindById = !!lokiCollection.by('id', id);\n      _logger.default.log(\"Did find \".concat(table, \"#\").concat(id, \" in Loki collection by ID? \").concat(didFindById));\n\n      // if we can't, but can filter to it, it means that Loki indices are corrupted\n      var didFindByFilter = !!lokiCollection.data.filter(function (doc) {\n        return doc.id === id;\n      });\n      _logger.default.log(\"Did find \".concat(table, \"#\").concat(id, \" in Loki collection by filtering the collection? \").concat(didFindByFilter));\n    }\n  };\n  (0, _createClass2.default)(LokiJSAdapter, [{\n    key: \"_driver\",\n    get: function get() {\n      // $FlowFixMe\n      return this._dispatcher._worker._bridge.driver;\n    }\n  }]);\n  return LokiJSAdapter;\n}();\nexports.default = LokiJSAdapter;\nLokiJSAdapter.adapterType = 'loki';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}