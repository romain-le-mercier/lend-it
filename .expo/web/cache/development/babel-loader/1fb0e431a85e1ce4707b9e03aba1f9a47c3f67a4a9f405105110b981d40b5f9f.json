{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _Result = require(\"../utils/fp/Result\");\nvar DatabaseAdapterCompat = function () {\n  function DatabaseAdapterCompat(adapter) {\n    this.underlyingAdapter = adapter;\n  }\n  var _proto = DatabaseAdapterCompat.prototype;\n  _proto.find = function find(table, id) {\n    var _this = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this.underlyingAdapter.find(table, id, callback);\n    });\n  };\n  _proto.query = function query(_query) {\n    var _this2 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this2.underlyingAdapter.query(_query, callback);\n    });\n  };\n  _proto.queryIds = function queryIds(query) {\n    var _this3 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this3.underlyingAdapter.queryIds(query, callback);\n    });\n  };\n  _proto.unsafeQueryRaw = function unsafeQueryRaw(query) {\n    var _this4 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this4.underlyingAdapter.unsafeQueryRaw(query, callback);\n    });\n  };\n  _proto.count = function count(query) {\n    var _this5 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this5.underlyingAdapter.count(query, callback);\n    });\n  };\n  _proto.batch = function batch(operations) {\n    var _this6 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this6.underlyingAdapter.batch(operations, callback);\n    });\n  };\n  _proto.getDeletedRecords = function getDeletedRecords(tableName) {\n    var _this7 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this7.underlyingAdapter.getDeletedRecords(tableName, callback);\n    });\n  };\n  _proto.destroyDeletedRecords = function destroyDeletedRecords(tableName, recordIds) {\n    var _this8 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this8.underlyingAdapter.destroyDeletedRecords(tableName, recordIds, callback);\n    });\n  };\n  _proto.unsafeLoadFromSync = function unsafeLoadFromSync(jsonId) {\n    var _this9 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this9.underlyingAdapter.unsafeLoadFromSync(jsonId, callback);\n    });\n  };\n  _proto.provideSyncJson = function provideSyncJson(id, syncPullResultJson) {\n    var _this10 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this10.underlyingAdapter.provideSyncJson(id, syncPullResultJson, callback);\n    });\n  };\n  _proto.unsafeResetDatabase = function unsafeResetDatabase() {\n    var _this11 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this11.underlyingAdapter.unsafeResetDatabase(callback);\n    });\n  };\n  _proto.unsafeExecute = function unsafeExecute(work) {\n    var _this12 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this12.underlyingAdapter.unsafeExecute(work, callback);\n    });\n  };\n  _proto.getLocal = function getLocal(key) {\n    var _this13 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this13.underlyingAdapter.getLocal(key, callback);\n    });\n  };\n  _proto.setLocal = function setLocal(key, value) {\n    var _this14 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this14.underlyingAdapter.setLocal(key, value, callback);\n    });\n  };\n  _proto.removeLocal = function removeLocal(key) {\n    var _this15 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this15.underlyingAdapter.removeLocal(key, callback);\n    });\n  };\n  _proto.testClone = function testClone(options) {\n    return new Promise(function ($return, $error) {\n      return Promise.resolve(this.underlyingAdapter.testClone(options)).then(function ($await_1) {\n        try {\n          return $return(new DatabaseAdapterCompat($await_1));\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    }.bind(this));\n  };\n  (0, _createClass2.default)(DatabaseAdapterCompat, [{\n    key: \"schema\",\n    get: function get() {\n      return this.underlyingAdapter.schema;\n    }\n  }, {\n    key: \"dbName\",\n    get: function get() {\n      return this.underlyingAdapter.dbName;\n    }\n  }, {\n    key: \"migrations\",\n    get: function get() {\n      return this.underlyingAdapter.migrations;\n    }\n  }]);\n  return DatabaseAdapterCompat;\n}();\nexports.default = DatabaseAdapterCompat;","map":{"version":3,"names":["_interopRequireDefault","require","exports","__esModule","default","_createClass2","_Result","DatabaseAdapterCompat","adapter","underlyingAdapter","_proto","prototype","find","table","id","_this","toPromise","callback","query","_query","_this2","queryIds","_this3","unsafeQueryRaw","_this4","count","_this5","batch","operations","_this6","getDeletedRecords","tableName","_this7","destroyDeletedRecords","recordIds","_this8","unsafeLoadFromSync","jsonId","_this9","provideSyncJson","syncPullResultJson","_this10","unsafeResetDatabase","_this11","unsafeExecute","work","_this12","getLocal","key","_this13","setLocal","value","_this14","removeLocal","_this15","testClone","options","Promise","$return","$error","resolve","then","$await_1","$boundEx","bind","get","schema","dbName","migrations"],"sources":["/app/node_modules/@nozbe/watermelondb/adapters/compat.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _Result = require(\"../utils/fp/Result\");\nvar DatabaseAdapterCompat = /*#__PURE__*/function () {\n  function DatabaseAdapterCompat(adapter) {\n    this.underlyingAdapter = adapter;\n  }\n  var _proto = DatabaseAdapterCompat.prototype;\n  _proto.find = function find(table, id) {\n    var _this = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this.underlyingAdapter.find(table, id, callback);\n    });\n  };\n  _proto.query = function query(_query) {\n    var _this2 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this2.underlyingAdapter.query(_query, callback);\n    });\n  };\n  _proto.queryIds = function queryIds(query) {\n    var _this3 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this3.underlyingAdapter.queryIds(query, callback);\n    });\n  };\n  _proto.unsafeQueryRaw = function unsafeQueryRaw(query) {\n    var _this4 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this4.underlyingAdapter.unsafeQueryRaw(query, callback);\n    });\n  };\n  _proto.count = function count(query) {\n    var _this5 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this5.underlyingAdapter.count(query, callback);\n    });\n  };\n  _proto.batch = function batch(operations) {\n    var _this6 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this6.underlyingAdapter.batch(operations, callback);\n    });\n  };\n  _proto.getDeletedRecords = function getDeletedRecords(tableName) {\n    var _this7 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this7.underlyingAdapter.getDeletedRecords(tableName, callback);\n    });\n  };\n  _proto.destroyDeletedRecords = function destroyDeletedRecords(tableName, recordIds) {\n    var _this8 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this8.underlyingAdapter.destroyDeletedRecords(tableName, recordIds, callback);\n    });\n  };\n  _proto.unsafeLoadFromSync = function unsafeLoadFromSync(jsonId) {\n    var _this9 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this9.underlyingAdapter.unsafeLoadFromSync(jsonId, callback);\n    });\n  };\n  _proto.provideSyncJson = function provideSyncJson(id, syncPullResultJson) {\n    var _this10 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this10.underlyingAdapter.provideSyncJson(id, syncPullResultJson, callback);\n    });\n  };\n  _proto.unsafeResetDatabase = function unsafeResetDatabase() {\n    var _this11 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this11.underlyingAdapter.unsafeResetDatabase(callback);\n    });\n  };\n  _proto.unsafeExecute = function unsafeExecute(work) {\n    var _this12 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this12.underlyingAdapter.unsafeExecute(work, callback);\n    });\n  };\n  _proto.getLocal = function getLocal(key) {\n    var _this13 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this13.underlyingAdapter.getLocal(key, callback);\n    });\n  };\n  _proto.setLocal = function setLocal(key, value) {\n    var _this14 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this14.underlyingAdapter.setLocal(key, value, callback);\n    });\n  };\n  _proto.removeLocal = function removeLocal(key) {\n    var _this15 = this;\n    return (0, _Result.toPromise)(function (callback) {\n      return _this15.underlyingAdapter.removeLocal(key, callback);\n    });\n  }\n\n  // untyped - test-only code\n  ;\n  _proto.testClone = function testClone(options) {\n    return new Promise(function ($return, $error) {\n      return Promise.resolve(this.underlyingAdapter.testClone(options)).then(function ($await_1) {\n        try {\n          // $FlowFixMe\n          return $return(new DatabaseAdapterCompat($await_1));\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    }.bind(this));\n  };\n  (0, _createClass2.default)(DatabaseAdapterCompat, [{\n    key: \"schema\",\n    get: function get() {\n      return this.underlyingAdapter.schema;\n    }\n  }, {\n    key: \"dbName\",\n    get: function get() {\n      return this.underlyingAdapter.dbName;\n    }\n  }, {\n    key: \"migrations\",\n    get: function get() {\n      return this.underlyingAdapter.migrations;\n    }\n  }]);\n  return DatabaseAdapterCompat;\n}();\nexports.default = DatabaseAdapterCompat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}