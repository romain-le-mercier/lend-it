{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { format } from 'date-fns';\nimport { createStyles } from \"../../../utils/theme\";\nimport { StatusBadge } from \"./StatusBadge\";\nimport { Button } from \"./Button\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var LentItemCard = function LentItemCard(_ref) {\n  var item = _ref.item,\n    onPress = _ref.onPress,\n    onMarkReturned = _ref.onMarkReturned;\n  var handleMarkReturned = function handleMarkReturned(e) {\n    if (e) {\n      e.stopPropagation();\n    }\n    console.log('handleMarkReturned called for item:', item.itemName);\n    if (Platform.OS === 'web') {\n      var confirmed = window.confirm(\"Are you sure you want to mark \\\"\" + item.itemName + \"\\\" as returned?\");\n      if (confirmed) {\n        console.log('Confirming mark as returned for:', item.id);\n        onMarkReturned(item.id);\n      }\n    } else {\n      Alert.alert('Mark as Returned', \"Are you sure you want to mark \\\"\" + item.itemName + \"\\\" as returned?\", [{\n        text: 'Cancel',\n        style: 'cancel'\n      }, {\n        text: 'Yes, Mark Returned',\n        onPress: function onPress() {\n          console.log('Confirming mark as returned for:', item.id);\n          onMarkReturned(item.id);\n        }\n      }]);\n    }\n  };\n  return _jsxs(TouchableOpacity, {\n    style: styles.container,\n    onPress: onPress,\n    activeOpacity: 0.7,\n    children: [_jsx(View, {\n      style: styles.header,\n      children: _jsxs(View, {\n        style: styles.titleContainer,\n        children: [_jsx(Text, {\n          style: styles.itemName,\n          numberOfLines: 1,\n          children: item.itemName\n        }), _jsx(StatusBadge, {\n          status: item.getStatus()\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.details,\n      children: [_jsxs(Text, {\n        style: styles.borrowerName,\n        children: [\"Borrowed by: \", item.borrowerName]\n      }), _jsxs(Text, {\n        style: styles.date,\n        children: [\"Lent on: \", format(item.lentDate, 'MMM dd, yyyy')]\n      }), _jsxs(Text, {\n        style: styles.date,\n        children: [\"Expected return: \", format(item.expectedReturnDate, 'MMM dd, yyyy')]\n      }), item.actualReturnDate ? _jsxs(Text, {\n        style: styles.returnedDate,\n        children: [\"Returned on: \", format(item.actualReturnDate, 'MMM dd, yyyy')]\n      }) : null]\n    }), item.notes ? _jsx(Text, {\n      style: styles.notes,\n      numberOfLines: 2,\n      children: item.notes\n    }) : null, !item.isReturned ? _jsx(View, {\n      style: styles.actionContainer,\n      onStartShouldSetResponder: function onStartShouldSetResponder() {\n        return true;\n      },\n      onTouchEnd: function onTouchEnd(e) {\n        return e.stopPropagation();\n      },\n      children: _jsx(Button, {\n        variant: \"primary\",\n        size: \"small\",\n        onPress: handleMarkReturned,\n        children: \"Mark as Returned\"\n      })\n    }) : null]\n  });\n};\nvar styles = createStyles(function (theme) {\n  return {\n    container: _objectSpread({\n      backgroundColor: theme.colors.background.card,\n      borderRadius: theme.borderRadius.md,\n      padding: theme.spacing.md,\n      marginBottom: theme.spacing.md\n    }, theme.shadows.md),\n    header: {\n      marginBottom: theme.spacing.sm\n    },\n    titleContainer: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    itemName: {\n      fontSize: theme.typography.fontSize.lg,\n      fontWeight: '600',\n      color: theme.colors.text.primary,\n      flex: 1,\n      marginRight: theme.spacing.sm\n    },\n    details: {\n      marginBottom: theme.spacing.sm\n    },\n    borrowerName: {\n      fontSize: theme.typography.fontSize.md,\n      color: theme.colors.text.primary,\n      marginBottom: theme.spacing.xs\n    },\n    date: {\n      fontSize: theme.typography.fontSize.sm,\n      color: theme.colors.text.secondary,\n      marginBottom: theme.spacing.xs / 2\n    },\n    returnedDate: {\n      fontSize: theme.typography.fontSize.sm,\n      color: theme.colors.status.success,\n      marginTop: theme.spacing.xs\n    },\n    notes: {\n      fontSize: theme.typography.fontSize.sm,\n      color: theme.colors.text.secondary,\n      fontStyle: 'italic',\n      marginTop: theme.spacing.xs,\n      marginBottom: theme.spacing.sm\n    },\n    actionContainer: {\n      marginTop: theme.spacing.sm,\n      alignItems: 'flex-start'\n    }\n  };\n});","map":{"version":3,"names":["React","View","Text","TouchableOpacity","Alert","Platform","format","createStyles","StatusBadge","Button","jsx","_jsx","jsxs","_jsxs","LentItemCard","_ref","item","onPress","onMarkReturned","handleMarkReturned","e","stopPropagation","console","log","itemName","OS","confirmed","window","confirm","id","alert","text","style","styles","container","activeOpacity","children","header","titleContainer","numberOfLines","status","getStatus","details","borrowerName","date","lentDate","expectedReturnDate","actualReturnDate","returnedDate","notes","isReturned","actionContainer","onStartShouldSetResponder","onTouchEnd","variant","size","theme","_objectSpread","backgroundColor","colors","background","card","borderRadius","md","padding","spacing","marginBottom","shadows","sm","flexDirection","justifyContent","alignItems","fontSize","typography","lg","fontWeight","color","primary","flex","marginRight","xs","secondary","success","marginTop","fontStyle"],"sources":["/app/src/presentation/components/common/LentItemCard.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  Alert,\n  Platform,\n} from 'react-native';\nimport { format } from 'date-fns';\nimport { createStyles } from '@/utils/theme';\nimport { StatusBadge } from './StatusBadge';\nimport { Button } from './Button';\nimport { ILentItem } from '@/domain/entities/LentItem';\n\ninterface LentItemCardProps {\n  item: ILentItem;\n  onPress: () => void;\n  onMarkReturned: (id: string) => void;\n}\n\nexport const LentItemCard: React.FC<LentItemCardProps> = ({\n  item,\n  onPress,\n  onMarkReturned,\n}) => {\n  const handleMarkReturned = (e?: any) => {\n    // Prevent event bubbling to parent TouchableOpacity\n    if (e) {\n      e.stopPropagation();\n    }\n    console.log('handleMarkReturned called for item:', item.itemName);\n    \n    if (Platform.OS === 'web') {\n      // Use window.confirm for web\n      const confirmed = window.confirm(`Are you sure you want to mark \"${item.itemName}\" as returned?`);\n      if (confirmed) {\n        console.log('Confirming mark as returned for:', item.id);\n        onMarkReturned(item.id);\n      }\n    } else {\n      // Use Alert for mobile\n      Alert.alert(\n        'Mark as Returned',\n        `Are you sure you want to mark \"${item.itemName}\" as returned?`,\n        [\n          { text: 'Cancel', style: 'cancel' },\n          {\n            text: 'Yes, Mark Returned',\n            onPress: () => {\n              console.log('Confirming mark as returned for:', item.id);\n              onMarkReturned(item.id);\n            },\n          },\n        ]\n      );\n    }\n  };\n\n  return (\n    <TouchableOpacity\n      style={styles.container}\n      onPress={onPress}\n      activeOpacity={0.7}\n    >\n      <View style={styles.header}>\n        <View style={styles.titleContainer}>\n          <Text style={styles.itemName} numberOfLines={1}>\n            {item.itemName}\n          </Text>\n          <StatusBadge status={item.getStatus()} />\n        </View>\n      </View>\n\n      <View style={styles.details}>\n        <Text style={styles.borrowerName}>\n          Borrowed by: {item.borrowerName}\n        </Text>\n        <Text style={styles.date}>\n          Lent on: {format(item.lentDate, 'MMM dd, yyyy')}\n        </Text>\n        <Text style={styles.date}>\n          Expected return: {format(item.expectedReturnDate, 'MMM dd, yyyy')}\n        </Text>\n        {item.actualReturnDate ? (\n          <Text style={styles.returnedDate}>\n            Returned on: {format(item.actualReturnDate, 'MMM dd, yyyy')}\n          </Text>\n        ) : null}\n      </View>\n\n      {item.notes ? (\n        <Text style={styles.notes} numberOfLines={2}>\n          {item.notes}\n        </Text>\n      ) : null}\n\n      {!item.isReturned ? (\n        <View \n          style={styles.actionContainer}\n          onStartShouldSetResponder={() => true}\n          onTouchEnd={(e) => e.stopPropagation()}\n        >\n          <Button\n            variant=\"primary\"\n            size=\"small\"\n            onPress={handleMarkReturned}\n          >\n            Mark as Returned\n          </Button>\n        </View>\n      ) : null}\n    </TouchableOpacity>\n  );\n};\n\nconst styles = createStyles((theme) => ({\n  container: {\n    backgroundColor: theme.colors.background.card,\n    borderRadius: theme.borderRadius.md,\n    padding: theme.spacing.md,\n    marginBottom: theme.spacing.md,\n    ...theme.shadows.md,\n  },\n  header: {\n    marginBottom: theme.spacing.sm,\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemName: {\n    fontSize: theme.typography.fontSize.lg,\n    fontWeight: '600',\n    color: theme.colors.text.primary,\n    flex: 1,\n    marginRight: theme.spacing.sm,\n  },\n  details: {\n    marginBottom: theme.spacing.sm,\n  },\n  borrowerName: {\n    fontSize: theme.typography.fontSize.md,\n    color: theme.colors.text.primary,\n    marginBottom: theme.spacing.xs,\n  },\n  date: {\n    fontSize: theme.typography.fontSize.sm,\n    color: theme.colors.text.secondary,\n    marginBottom: theme.spacing.xs / 2,\n  },\n  returnedDate: {\n    fontSize: theme.typography.fontSize.sm,\n    color: theme.colors.status.success,\n    marginTop: theme.spacing.xs,\n  },\n  notes: {\n    fontSize: theme.typography.fontSize.sm,\n    color: theme.colors.text.secondary,\n    fontStyle: 'italic',\n    marginTop: theme.spacing.xs,\n    marginBottom: theme.spacing.sm,\n  },\n  actionContainer: {\n    marginTop: theme.spacing.sm,\n    alignItems: 'flex-start',\n  },\n}));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}