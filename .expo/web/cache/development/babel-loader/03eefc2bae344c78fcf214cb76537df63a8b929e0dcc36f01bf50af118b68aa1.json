{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nexport var CreateLentItemUseCase = function () {\n  function CreateLentItemUseCase(lentItemRepository) {\n    _classCallCheck(this, CreateLentItemUseCase);\n    this.lentItemRepository = lentItemRepository;\n  }\n  return _createClass(CreateLentItemUseCase, [{\n    key: \"execute\",\n    value: function () {\n      var _execute = _asyncToGenerator(function* (dto) {\n        var _dto$itemName, _dto$borrowerName, _dto$borrowerContact, _dto$notes;\n        if (!((_dto$itemName = dto.itemName) != null && _dto$itemName.trim())) {\n          throw new Error('Item name is required');\n        }\n        if (!((_dto$borrowerName = dto.borrowerName) != null && _dto$borrowerName.trim())) {\n          throw new Error('Borrower name is required');\n        }\n        if (!dto.lentDate) {\n          throw new Error('Lent date is required');\n        }\n        if (!dto.expectedReturnDate) {\n          throw new Error('Expected return date is required');\n        }\n        if (dto.expectedReturnDate < dto.lentDate) {\n          throw new Error('Expected return date must be after lent date');\n        }\n        return yield this.lentItemRepository.create(_objectSpread(_objectSpread({}, dto), {}, {\n          itemName: dto.itemName.trim(),\n          borrowerName: dto.borrowerName.trim(),\n          borrowerContact: (_dto$borrowerContact = dto.borrowerContact) == null ? void 0 : _dto$borrowerContact.trim(),\n          notes: (_dto$notes = dto.notes) == null ? void 0 : _dto$notes.trim()\n        }));\n      });\n      function execute(_x) {\n        return _execute.apply(this, arguments);\n      }\n      return execute;\n    }()\n  }]);\n}();","map":{"version":3,"names":["CreateLentItemUseCase","lentItemRepository","_classCallCheck","_createClass","key","value","_execute","_asyncToGenerator","dto","_dto$itemName","_dto$borrowerName","_dto$borrowerContact","_dto$notes","itemName","trim","Error","borrowerName","lentDate","expectedReturnDate","create","_objectSpread","borrowerContact","notes","execute","_x","apply","arguments"],"sources":["/app/src/domain/usecases/CreateLentItemUseCase.ts"],"sourcesContent":["import { ILentItem } from '../entities/LentItem';\nimport { ILentItemRepository, CreateLentItemDto } from '../repositories/ILentItemRepository';\n\nexport interface ICreateLentItemUseCase {\n  execute(dto: CreateLentItemDto): Promise<ILentItem>;\n}\n\nexport class CreateLentItemUseCase implements ICreateLentItemUseCase {\n  constructor(private lentItemRepository: ILentItemRepository) {}\n\n  async execute(dto: CreateLentItemDto): Promise<ILentItem> {\n    // Validation\n    if (!dto.itemName?.trim()) {\n      throw new Error('Item name is required');\n    }\n    if (!dto.borrowerName?.trim()) {\n      throw new Error('Borrower name is required');\n    }\n    if (!dto.lentDate) {\n      throw new Error('Lent date is required');\n    }\n    if (!dto.expectedReturnDate) {\n      throw new Error('Expected return date is required');\n    }\n    if (dto.expectedReturnDate < dto.lentDate) {\n      throw new Error('Expected return date must be after lent date');\n    }\n\n    // Create the item\n    return await this.lentItemRepository.create({\n      ...dto,\n      itemName: dto.itemName.trim(),\n      borrowerName: dto.borrowerName.trim(),\n      borrowerContact: dto.borrowerContact?.trim(),\n      notes: dto.notes?.trim(),\n    });\n  }\n}"],"mappings":";;;;;;AAOA,WAAaA,qBAAqB;EAChC,SAAAA,sBAAoBC,kBAAuC,EAAE;IAAAC,eAAA,OAAAF,qBAAA;IAAA,KAAzCC,kBAAuC,GAAvCA,kBAAuC;EAAG;EAAC,OAAAE,YAAA,CAAAH,qBAAA;IAAAI,GAAA;IAAAC,KAAA;MAAA,IAAAC,QAAA,GAAAC,iBAAA,CAE/D,WAAcC,GAAsB,EAAsB;QAAA,IAAAC,aAAA,EAAAC,iBAAA,EAAAC,oBAAA,EAAAC,UAAA;QAExD,IAAI,GAAAH,aAAA,GAACD,GAAG,CAACK,QAAQ,aAAZJ,aAAA,CAAcK,IAAI,CAAC,CAAC,GAAE;UACzB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;QAC1C;QACA,IAAI,GAAAL,iBAAA,GAACF,GAAG,CAACQ,YAAY,aAAhBN,iBAAA,CAAkBI,IAAI,CAAC,CAAC,GAAE;UAC7B,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;QAC9C;QACA,IAAI,CAACP,GAAG,CAACS,QAAQ,EAAE;UACjB,MAAM,IAAIF,KAAK,CAAC,uBAAuB,CAAC;QAC1C;QACA,IAAI,CAACP,GAAG,CAACU,kBAAkB,EAAE;UAC3B,MAAM,IAAIH,KAAK,CAAC,kCAAkC,CAAC;QACrD;QACA,IAAIP,GAAG,CAACU,kBAAkB,GAAGV,GAAG,CAACS,QAAQ,EAAE;UACzC,MAAM,IAAIF,KAAK,CAAC,8CAA8C,CAAC;QACjE;QAGA,aAAa,IAAI,CAACd,kBAAkB,CAACkB,MAAM,CAAAC,aAAA,CAAAA,aAAA,KACtCZ,GAAG;UACNK,QAAQ,EAAEL,GAAG,CAACK,QAAQ,CAACC,IAAI,CAAC,CAAC;UAC7BE,YAAY,EAAER,GAAG,CAACQ,YAAY,CAACF,IAAI,CAAC,CAAC;UACrCO,eAAe,GAAAV,oBAAA,GAAEH,GAAG,CAACa,eAAe,qBAAnBV,oBAAA,CAAqBG,IAAI,CAAC,CAAC;UAC5CQ,KAAK,GAAAV,UAAA,GAAEJ,GAAG,CAACc,KAAK,qBAATV,UAAA,CAAWE,IAAI,CAAC;QAAC,EACzB,CAAC;MACJ,CAAC;MAAA,SA1BKS,OAAOA,CAAAC,EAAA;QAAA,OAAAlB,QAAA,CAAAmB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAPH,OAAO;IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}