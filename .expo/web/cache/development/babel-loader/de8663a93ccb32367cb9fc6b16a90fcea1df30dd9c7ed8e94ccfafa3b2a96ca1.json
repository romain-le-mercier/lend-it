{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.getAssociations = void 0;\nvar _invariant = _interopRequireDefault(require(\"../utils/common/invariant\"));\nvar getAssociations = function getAssociations(description, modelClass, db) {\n  return description.joinTables.map(function (table) {\n    var info = modelClass.associations[table];\n    (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' joins with '\").concat(table, \"', but \").concat(modelClass.name, \" does not have associations={} defined for '\").concat(table, \"'\"));\n    return {\n      from: modelClass.table,\n      to: table,\n      info: info\n    };\n  }).concat(description.nestedJoinTables.map(function (_ref) {\n    var from = _ref.from,\n      to = _ref.to;\n    var collection = db.get(from);\n    (0, _invariant.default)(collection, \"Query on '\".concat(modelClass.table, \"' has a nested join with '\").concat(from, \"', but collection for '\").concat(from, \"' cannot be found\"));\n    var info = collection.modelClass.associations[to];\n    (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' has a nested join from '\").concat(from, \"' to '\").concat(to, \"', but \").concat(collection.modelClass.name, \" does not have associations={} defined for '\").concat(to, \"'\"));\n    return {\n      from: from,\n      to: to,\n      info: info\n    };\n  }));\n};\nexports.getAssociations = getAssociations;","map":{"version":3,"names":["_interopRequireDefault","require","exports","__esModule","getAssociations","_invariant","description","modelClass","db","joinTables","map","table","info","associations","default","concat","name","from","to","nestedJoinTables","_ref","collection","get"],"sources":["/app/node_modules/@nozbe/watermelondb/Query/helpers.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.getAssociations = void 0;\nvar _invariant = _interopRequireDefault(require(\"../utils/common/invariant\"));\nvar getAssociations = function (description, modelClass, db) {\n  return description.joinTables.map(function (table) {\n    var info = modelClass.associations[table];\n    (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' joins with '\").concat(table, \"', but \").concat(modelClass.name, \" does not have associations={} defined for '\").concat(table, \"'\"));\n    return {\n      from: modelClass.table,\n      to: table,\n      info: info\n    };\n  }).concat(description.nestedJoinTables.map(function ({\n    from: from,\n    to: to\n  }) {\n    var collection = db.get(from);\n    (0, _invariant.default)(collection, \"Query on '\".concat(modelClass.table, \"' has a nested join with '\").concat(from, \"', but collection for '\").concat(from, \"' cannot be found\"));\n    var info = collection.modelClass.associations[to];\n    (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' has a nested join from '\").concat(from, \"' to '\").concat(to, \"', but \").concat(collection.modelClass.name, \" does not have associations={} defined for '\").concat(to, \"'\"));\n    return {\n      from: from,\n      to: to,\n      info: info\n    };\n  }));\n};\nexports.getAssociations = getAssociations;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AACpFC,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,eAAe,GAAG,KAAK,CAAC;AAChC,IAAIC,UAAU,GAAGL,sBAAsB,CAACC,OAAO,4BAA4B,CAAC,CAAC;AAC7E,IAAIG,eAAe,GAAG,SAAlBA,eAAeA,CAAaE,WAAW,EAAEC,UAAU,EAAEC,EAAE,EAAE;EAC3D,OAAOF,WAAW,CAACG,UAAU,CAACC,GAAG,CAAC,UAAUC,KAAK,EAAE;IACjD,IAAIC,IAAI,GAAGL,UAAU,CAACM,YAAY,CAACF,KAAK,CAAC;IACzC,CAAC,CAAC,EAAEN,UAAU,CAACS,OAAO,EAAEF,IAAI,EAAE,YAAY,CAACG,MAAM,CAACR,UAAU,CAACI,KAAK,EAAE,gBAAgB,CAAC,CAACI,MAAM,CAACJ,KAAK,EAAE,SAAS,CAAC,CAACI,MAAM,CAACR,UAAU,CAACS,IAAI,EAAE,8CAA8C,CAAC,CAACD,MAAM,CAACJ,KAAK,EAAE,GAAG,CAAC,CAAC;IAC1M,OAAO;MACLM,IAAI,EAAEV,UAAU,CAACI,KAAK;MACtBO,EAAE,EAAEP,KAAK;MACTC,IAAI,EAAEA;IACR,CAAC;EACH,CAAC,CAAC,CAACG,MAAM,CAACT,WAAW,CAACa,gBAAgB,CAACT,GAAG,CAAC,UAAAU,IAAA,EAGxC;IAAA,IAFKH,IAAI,GAAAG,IAAA,CAAVH,IAAI;MACAC,EAAE,GAAAE,IAAA,CAANF,EAAE;IAEF,IAAIG,UAAU,GAAGb,EAAE,CAACc,GAAG,CAACL,IAAI,CAAC;IAC7B,CAAC,CAAC,EAAEZ,UAAU,CAACS,OAAO,EAAEO,UAAU,EAAE,YAAY,CAACN,MAAM,CAACR,UAAU,CAACI,KAAK,EAAE,4BAA4B,CAAC,CAACI,MAAM,CAACE,IAAI,EAAE,yBAAyB,CAAC,CAACF,MAAM,CAACE,IAAI,EAAE,mBAAmB,CAAC,CAAC;IAClL,IAAIL,IAAI,GAAGS,UAAU,CAACd,UAAU,CAACM,YAAY,CAACK,EAAE,CAAC;IACjD,CAAC,CAAC,EAAEb,UAAU,CAACS,OAAO,EAAEF,IAAI,EAAE,YAAY,CAACG,MAAM,CAACR,UAAU,CAACI,KAAK,EAAE,4BAA4B,CAAC,CAACI,MAAM,CAACE,IAAI,EAAE,QAAQ,CAAC,CAACF,MAAM,CAACG,EAAE,EAAE,SAAS,CAAC,CAACH,MAAM,CAACM,UAAU,CAACd,UAAU,CAACS,IAAI,EAAE,8CAA8C,CAAC,CAACD,MAAM,CAACG,EAAE,EAAE,GAAG,CAAC,CAAC;IAClP,OAAO;MACLD,IAAI,EAAEA,IAAI;MACVC,EAAE,EAAEA,EAAE;MACNN,IAAI,EAAEA;IACR,CAAC;EACH,CAAC,CAAC,CAAC;AACL,CAAC;AACDV,OAAO,CAACE,eAAe,GAAGA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}