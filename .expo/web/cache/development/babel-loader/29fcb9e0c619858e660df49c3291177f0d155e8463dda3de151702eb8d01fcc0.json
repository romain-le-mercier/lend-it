{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.stepsForMigration = stepsForMigration;\nvar _fp = require(\"../../utils/fp\");\nfunction stepsForMigration(_ref) {\n  var schemaMigrations = _ref.migrations,\n    fromVersion = _ref.fromVersion,\n    toVersion = _ref.toVersion;\n  var sortedMigrations = schemaMigrations.sortedMigrations,\n    minVersion = schemaMigrations.minVersion,\n    maxVersion = schemaMigrations.maxVersion;\n  if (fromVersion < minVersion || toVersion > maxVersion) {\n    return null;\n  }\n  var matchingMigrations = sortedMigrations.filter(function (_ref2) {\n    var version = _ref2.toVersion;\n    return version > fromVersion && version <= toVersion;\n  });\n  var allSteps = (0, _fp.unnest)(matchingMigrations.map(function (migration) {\n    return migration.steps;\n  }));\n  return allSteps;\n}","map":{"version":3,"names":["exports","__esModule","stepsForMigration","_fp","require","_ref","schemaMigrations","migrations","fromVersion","toVersion","sortedMigrations","minVersion","maxVersion","matchingMigrations","filter","_ref2","version","allSteps","unnest","map","migration","steps"],"sources":["/app/node_modules/@nozbe/watermelondb/Schema/migrations/stepsForMigration.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.stepsForMigration = stepsForMigration;\nvar _fp = require(\"../../utils/fp\");\nfunction stepsForMigration({\n  migrations: schemaMigrations,\n  fromVersion: fromVersion,\n  toVersion: toVersion\n}) {\n  var {\n    sortedMigrations: sortedMigrations,\n    minVersion: minVersion,\n    maxVersion: maxVersion\n  } = schemaMigrations;\n\n  // see if migrations in this range are available\n  if (fromVersion < minVersion || toVersion > maxVersion) {\n    return null;\n  }\n\n  // return steps\n  var matchingMigrations = sortedMigrations.filter(function ({\n    toVersion: version\n  }) {\n    return version > fromVersion && version <= toVersion;\n  });\n  var allSteps = (0, _fp.unnest)(matchingMigrations.map(function (migration) {\n    return migration.steps;\n  }));\n  return allSteps;\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,iBAAiB,GAAGA,iBAAiB;AAC7C,IAAIC,GAAG,GAAGC,OAAO,iBAAiB,CAAC;AACnC,SAASF,iBAAiBA,CAAAG,IAAA,EAIvB;EAAA,IAHWC,gBAAgB,GAAAD,IAAA,CAA5BE,UAAU;IACGC,WAAW,GAAAH,IAAA,CAAxBG,WAAW;IACAC,SAAS,GAAAJ,IAAA,CAApBI,SAAS;EAET,IACoBC,gBAAgB,GAGhCJ,gBAAgB,CAHlBI,gBAAgB;IACJC,UAAU,GAEpBL,gBAAgB,CAFlBK,UAAU;IACEC,UAAU,GACpBN,gBAAgB,CADlBM,UAAU;EAIZ,IAAIJ,WAAW,GAAGG,UAAU,IAAIF,SAAS,GAAGG,UAAU,EAAE;IACtD,OAAO,IAAI;EACb;EAGA,IAAIC,kBAAkB,GAAGH,gBAAgB,CAACI,MAAM,CAAC,UAAAC,KAAA,EAE9C;IAAA,IADUC,OAAO,GAAAD,KAAA,CAAlBN,SAAS;IAET,OAAOO,OAAO,GAAGR,WAAW,IAAIQ,OAAO,IAAIP,SAAS;EACtD,CAAC,CAAC;EACF,IAAIQ,QAAQ,GAAG,CAAC,CAAC,EAAEd,GAAG,CAACe,MAAM,EAAEL,kBAAkB,CAACM,GAAG,CAAC,UAAUC,SAAS,EAAE;IACzE,OAAOA,SAAS,CAACC,KAAK;EACxB,CAAC,CAAC,CAAC;EACH,OAAOJ,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}