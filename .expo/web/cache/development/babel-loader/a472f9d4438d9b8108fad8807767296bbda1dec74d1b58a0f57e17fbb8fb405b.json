{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = processChangeSet;\nfunction processChangeSet(changeSet, matcher, mutableMatchingRecords) {\n  var shouldEmit = false;\n  changeSet.forEach(function (change) {\n    var record = change.record,\n      type = change.type;\n    var index = mutableMatchingRecords.indexOf(record);\n    var currentlyMatching = -1 < index;\n    if ('destroyed' === type) {\n      if (currentlyMatching) {\n        mutableMatchingRecords.splice(index, 1);\n        shouldEmit = true;\n      }\n      return;\n    }\n    var matches = matcher(record._raw);\n    if (currentlyMatching && !matches) {\n      mutableMatchingRecords.splice(index, 1);\n      shouldEmit = true;\n    } else if (matches && !currentlyMatching) {\n      mutableMatchingRecords.push(record);\n      shouldEmit = true;\n    }\n  });\n  return shouldEmit;\n}","map":{"version":3,"names":["exports","__esModule","default","processChangeSet","changeSet","matcher","mutableMatchingRecords","shouldEmit","forEach","change","record","type","index","indexOf","currentlyMatching","splice","matches","_raw","push"],"sources":["/app/node_modules/@nozbe/watermelondb/observation/subscribeToSimpleQuery/processChangeSet.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = processChangeSet;\n// WARN: Mutates arguments\nfunction processChangeSet(changeSet, matcher, mutableMatchingRecords) {\n  var shouldEmit = false;\n  changeSet.forEach(function (change) {\n    var {\n      record: record,\n      type: type\n    } = change;\n    var index = mutableMatchingRecords.indexOf(record);\n    var currentlyMatching = -1 < index;\n    if ('destroyed' === type) {\n      if (currentlyMatching) {\n        // Remove if record was deleted\n        mutableMatchingRecords.splice(index, 1);\n        shouldEmit = true;\n      }\n      return;\n    }\n    var matches = matcher(record._raw);\n    if (currentlyMatching && !matches) {\n      // Remove if doesn't match anymore\n      mutableMatchingRecords.splice(index, 1);\n      shouldEmit = true;\n    } else if (matches && !currentlyMatching) {\n      // Add if should be included but isn't\n      mutableMatchingRecords.push(record);\n      shouldEmit = true;\n    }\n  });\n  return shouldEmit;\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,gBAAgB;AAElC,SAASA,gBAAgBA,CAACC,SAAS,EAAEC,OAAO,EAAEC,sBAAsB,EAAE;EACpE,IAAIC,UAAU,GAAG,KAAK;EACtBH,SAAS,CAACI,OAAO,CAAC,UAAUC,MAAM,EAAE;IAClC,IACUC,MAAM,GAEZD,MAAM,CAFRC,MAAM;MACAC,IAAI,GACRF,MAAM,CADRE,IAAI;IAEN,IAAIC,KAAK,GAAGN,sBAAsB,CAACO,OAAO,CAACH,MAAM,CAAC;IAClD,IAAII,iBAAiB,GAAG,CAAC,CAAC,GAAGF,KAAK;IAClC,IAAI,WAAW,KAAKD,IAAI,EAAE;MACxB,IAAIG,iBAAiB,EAAE;QAErBR,sBAAsB,CAACS,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;QACvCL,UAAU,GAAG,IAAI;MACnB;MACA;IACF;IACA,IAAIS,OAAO,GAAGX,OAAO,CAACK,MAAM,CAACO,IAAI,CAAC;IAClC,IAAIH,iBAAiB,IAAI,CAACE,OAAO,EAAE;MAEjCV,sBAAsB,CAACS,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;MACvCL,UAAU,GAAG,IAAI;IACnB,CAAC,MAAM,IAAIS,OAAO,IAAI,CAACF,iBAAiB,EAAE;MAExCR,sBAAsB,CAACY,IAAI,CAACR,MAAM,CAAC;MACnCH,UAAU,GAAG,IAAI;IACnB;EACF,CAAC,CAAC;EACF,OAAOA,UAAU;AACnB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}