{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nexports.localStorageKey = localStorageKey;\nvar _common = require(\"../../utils/common\");\nfunction localStorageKey(name) {\n  return name;\n}\nvar LocalStorage = function () {\n  function LocalStorage(database) {\n    this._db = database;\n  }\n  var _proto = LocalStorage.prototype;\n  _proto.get = function get(key) {\n    return new Promise(function ($return, $error) {\n      var json;\n      return Promise.resolve(this._db.adapter.getLocal(key)).then(function ($await_1) {\n        try {\n          json = $await_1;\n          return $return(null == json ? undefined : JSON.parse(json));\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    }.bind(this));\n  };\n  _proto._getSync = function _getSync(key, callback) {\n    this._db.adapter.underlyingAdapter.getLocal(key, function (result) {\n      var json = result.value ? result.value : undefined;\n      var value = null == json ? undefined : JSON.parse(json);\n      callback(value);\n    });\n  };\n  _proto.set = function set(key, value) {\n    return new Promise(function ($return) {\n      var json = JSON.stringify(value);\n      (0, _common.invariant)('string' === typeof json, 'Value not JSON-serializable');\n      return $return(this._db.adapter.setLocal(key, json));\n    }.bind(this));\n  };\n  _proto.remove = function remove(key) {\n    return new Promise(function ($return) {\n      return $return(this._db.adapter.removeLocal(key));\n    }.bind(this));\n  };\n  return LocalStorage;\n}();\nexports.default = LocalStorage;","map":{"version":3,"names":["exports","__esModule","default","localStorageKey","_common","require","name","LocalStorage","database","_db","_proto","prototype","get","key","Promise","$return","$error","json","resolve","adapter","getLocal","then","$await_1","undefined","JSON","parse","$boundEx","bind","_getSync","callback","underlyingAdapter","result","value","set","stringify","invariant","setLocal","remove","removeLocal"],"sources":["/app/node_modules/@nozbe/watermelondb/Database/LocalStorage/index.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nexports.localStorageKey = localStorageKey;\nvar _common = require(\"../../utils/common\");\nfunction localStorageKey(name) {\n  return name;\n}\nvar LocalStorage = /*#__PURE__*/function () {\n  function LocalStorage(database) {\n    this._db = database;\n  }\n\n  // Get value from LocalStorage (returns value deserialized from JSON)\n  // Returns `undefined` if not found\n  var _proto = LocalStorage.prototype;\n  _proto.get = function get(key) {\n    return new Promise(function ($return, $error) {\n      var json;\n      return Promise.resolve(this._db.adapter.getLocal(key)).then(function ($await_1) {\n        try {\n          json = $await_1;\n          return $return(null == json ? undefined : JSON.parse(json));\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    }.bind(this));\n  }\n\n  // Experimental: Same as get(), but can be called synchronously\n  ;\n  _proto._getSync = function _getSync(key, callback) {\n    this._db.adapter.underlyingAdapter.getLocal(key, function (result) {\n      var json = result.value ? result.value : undefined;\n      var value = null == json ? undefined : JSON.parse(json);\n      callback(value);\n    });\n  }\n\n  // Set value to LocalStorage\n  // Only JSON-serializable values are allowed and well-behaved:\n  // strings, numbers, booleans, and null; as well as arrays and objects only containing those\n  //\n  // Serializing other values will either throw an error (e.g. function passed) or be serialized\n  // such that deserializing it won't yield an equal value (e.g. NaN to null, Dates to a string)\n  // See details:\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#description\n  ;\n  _proto.set = function set(key, value) {\n    return new Promise(function ($return) {\n      var json = JSON.stringify(value);\n      (0, _common.invariant)('string' === typeof json, 'Value not JSON-serializable');\n      return $return(this._db.adapter.setLocal(key, json));\n    }.bind(this));\n  };\n  _proto.remove = function remove(key) {\n    return new Promise(function ($return) {\n      return $return(this._db.adapter.removeLocal(key));\n    }.bind(this));\n  };\n  return LocalStorage;\n}();\nexports.default = LocalStorage;"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxBF,OAAO,CAACG,eAAe,GAAGA,eAAe;AACzC,IAAIC,OAAO,GAAGC,OAAO,qBAAqB,CAAC;AAC3C,SAASF,eAAeA,CAACG,IAAI,EAAE;EAC7B,OAAOA,IAAI;AACb;AACA,IAAIC,YAAY,GAAgB,YAAY;EAC1C,SAASA,YAAYA,CAACC,QAAQ,EAAE;IAC9B,IAAI,CAACC,GAAG,GAAGD,QAAQ;EACrB;EAIA,IAAIE,MAAM,GAAGH,YAAY,CAACI,SAAS;EACnCD,MAAM,CAACE,GAAG,GAAG,SAASA,GAAGA,CAACC,GAAG,EAAE;IAC7B,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;MAC5C,IAAIC,IAAI;MACR,OAAOH,OAAO,CAACI,OAAO,CAAC,IAAI,CAACT,GAAG,CAACU,OAAO,CAACC,QAAQ,CAACP,GAAG,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAUC,QAAQ,EAAE;QAC9E,IAAI;UACFL,IAAI,GAAGK,QAAQ;UACf,OAAOP,OAAO,CAAC,IAAI,IAAIE,IAAI,GAAGM,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACR,IAAI,CAAC,CAAC;QAC7D,CAAC,CAAC,OAAOS,QAAQ,EAAE;UACjB,OAAOV,MAAM,CAACU,QAAQ,CAAC;QACzB;MACF,CAAC,EAAEV,MAAM,CAAC;IACZ,CAAC,CAACW,IAAI,CAAC,IAAI,CAAC,CAAC;EACf,CAAC;EAIDjB,MAAM,CAACkB,QAAQ,GAAG,SAASA,QAAQA,CAACf,GAAG,EAAEgB,QAAQ,EAAE;IACjD,IAAI,CAACpB,GAAG,CAACU,OAAO,CAACW,iBAAiB,CAACV,QAAQ,CAACP,GAAG,EAAE,UAAUkB,MAAM,EAAE;MACjE,IAAId,IAAI,GAAGc,MAAM,CAACC,KAAK,GAAGD,MAAM,CAACC,KAAK,GAAGT,SAAS;MAClD,IAAIS,KAAK,GAAG,IAAI,IAAIf,IAAI,GAAGM,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACR,IAAI,CAAC;MACvDY,QAAQ,CAACG,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAWDtB,MAAM,CAACuB,GAAG,GAAG,SAASA,GAAGA,CAACpB,GAAG,EAAEmB,KAAK,EAAE;IACpC,OAAO,IAAIlB,OAAO,CAAC,UAAUC,OAAO,EAAE;MACpC,IAAIE,IAAI,GAAGO,IAAI,CAACU,SAAS,CAACF,KAAK,CAAC;MAChC,CAAC,CAAC,EAAE5B,OAAO,CAAC+B,SAAS,EAAE,QAAQ,KAAK,OAAOlB,IAAI,EAAE,6BAA6B,CAAC;MAC/E,OAAOF,OAAO,CAAC,IAAI,CAACN,GAAG,CAACU,OAAO,CAACiB,QAAQ,CAACvB,GAAG,EAAEI,IAAI,CAAC,CAAC;IACtD,CAAC,CAACU,IAAI,CAAC,IAAI,CAAC,CAAC;EACf,CAAC;EACDjB,MAAM,CAAC2B,MAAM,GAAG,SAASA,MAAMA,CAACxB,GAAG,EAAE;IACnC,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAE;MACpC,OAAOA,OAAO,CAAC,IAAI,CAACN,GAAG,CAACU,OAAO,CAACmB,WAAW,CAACzB,GAAG,CAAC,CAAC;IACnD,CAAC,CAACc,IAAI,CAAC,IAAI,CAAC,CAAC;EACf,CAAC;EACD,OAAOpB,YAAY;AACrB,CAAC,CAAC,CAAC;AACHP,OAAO,CAACE,OAAO,GAAGK,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}