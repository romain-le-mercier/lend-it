{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nexport var LentItem = function () {\n  function LentItem(id, itemName, borrowerName, lentDate, expectedReturnDate) {\n    var isReturned = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n    var itemType = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'lent';\n    var createdAt = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : new Date();\n    var updatedAt = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : new Date();\n    var borrowerContact = arguments.length > 9 ? arguments[9] : undefined;\n    var actualReturnDate = arguments.length > 10 ? arguments[10] : undefined;\n    var notes = arguments.length > 11 ? arguments[11] : undefined;\n    _classCallCheck(this, LentItem);\n    this.id = id;\n    this.itemName = itemName;\n    this.borrowerName = borrowerName;\n    this.lentDate = lentDate;\n    this.expectedReturnDate = expectedReturnDate;\n    this.isReturned = isReturned;\n    this.itemType = itemType;\n    this.createdAt = createdAt;\n    this.updatedAt = updatedAt;\n    this.borrowerContact = borrowerContact;\n    this.actualReturnDate = actualReturnDate;\n    this.notes = notes;\n  }\n  return _createClass(LentItem, [{\n    key: \"markAsReturned\",\n    value: function markAsReturned() {\n      var returnDate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n      this.isReturned = true;\n      this.actualReturnDate = returnDate;\n      this.updatedAt = new Date();\n    }\n  }, {\n    key: \"isOverdue\",\n    value: function isOverdue() {\n      if (this.isReturned) return false;\n      return new Date() > this.expectedReturnDate;\n    }\n  }, {\n    key: \"isDueSoon\",\n    value: function isDueSoon() {\n      var daysThreshold = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n      if (this.isReturned) return false;\n      var now = new Date();\n      var timeDiff = this.expectedReturnDate.getTime() - now.getTime();\n      var daysDiff = timeDiff / (1000 * 3600 * 24);\n      return daysDiff <= daysThreshold && daysDiff >= 0;\n    }\n  }, {\n    key: \"getStatus\",\n    value: function getStatus() {\n      if (this.isReturned) return 'returned';\n      if (this.isOverdue()) return 'overdue';\n      if (this.isDueSoon()) return 'due_soon';\n      return 'active';\n    }\n  }]);\n}();","map":{"version":3,"names":["LentItem","id","itemName","borrowerName","lentDate","expectedReturnDate","isReturned","arguments","length","undefined","itemType","createdAt","Date","updatedAt","borrowerContact","actualReturnDate","notes","_classCallCheck","_createClass","key","value","markAsReturned","returnDate","isOverdue","isDueSoon","daysThreshold","now","timeDiff","getTime","daysDiff","getStatus"],"sources":["/app/src/domain/entities/LentItem.ts"],"sourcesContent":["export type ItemType = 'lent' | 'borrowed';\n\nexport interface ILentItem {\n  id: string;\n  itemName: string;\n  borrowerName: string;\n  borrowerContact?: string;\n  lentDate: Date;\n  expectedReturnDate: Date;\n  actualReturnDate?: Date;\n  notes?: string;\n  isReturned: boolean;\n  itemType: ItemType;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport class LentItem implements ILentItem {\n  constructor(\n    public id: string,\n    public itemName: string,\n    public borrowerName: string,\n    public lentDate: Date,\n    public expectedReturnDate: Date,\n    public isReturned: boolean = false,\n    public itemType: ItemType = 'lent',\n    public createdAt: Date = new Date(),\n    public updatedAt: Date = new Date(),\n    public borrowerContact?: string,\n    public actualReturnDate?: Date,\n    public notes?: string\n  ) {}\n\n  markAsReturned(returnDate: Date = new Date()): void {\n    this.isReturned = true;\n    this.actualReturnDate = returnDate;\n    this.updatedAt = new Date();\n  }\n\n  isOverdue(): boolean {\n    if (this.isReturned) return false;\n    return new Date() > this.expectedReturnDate;\n  }\n\n  isDueSoon(daysThreshold: number = 3): boolean {\n    if (this.isReturned) return false;\n    const now = new Date();\n    const timeDiff = this.expectedReturnDate.getTime() - now.getTime();\n    const daysDiff = timeDiff / (1000 * 3600 * 24);\n    return daysDiff <= daysThreshold && daysDiff >= 0;\n  }\n\n  getStatus(): 'returned' | 'overdue' | 'due_soon' | 'active' {\n    if (this.isReturned) return 'returned';\n    if (this.isOverdue()) return 'overdue';\n    if (this.isDueSoon()) return 'due_soon';\n    return 'active';\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}